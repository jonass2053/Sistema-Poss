<div class="payment-panel">
  <div class="panel-header">
    <h1>
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M17 9V7C17 5.89543 16.1046 5 15 5H5C3.89543 5 3 5.89543 3 7V13C3 14.1046 3.89543 15 5 15H7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <rect x="7" y="9" width="14" height="10" rx="2" stroke="currentColor" stroke-width="2"/>
        <path d="M12 15C12 13.3431 13.3431 12 15 12C16.6569 12 18 13.3431 18 15" stroke="currentColor" stroke-width="2"/>
        <circle cx="15" cy="15" r="1" fill="currentColor"/>
      </svg>
      Pago en Efectivo
    </h1>
  </div>
  
  <div class="panel-body">
    <div class="amount-display">
      <div class="amount-title">Total a Pagar</div>
      <div class="amount-value">${{totalAmount.toFixed(2)}}</div>
    </div>
    
    <div class="cash-input-container">
      <div class="cash-input-label">Efectivo Recibido:</div>
      <div class="cash-input-wrapper">
        <span class="currency-symbol">$</span>
        <input type="number" class="cash-input" [(ngModel)]="cashValue" (ngModelChange)="updateChange()" placeholder="0.00">
      </div>
    </div>
    
    <div class="quick-cash">
      <button 
        *ngFor="let amount of quickCashOptions" 
        class="quick-cash-button" 
        (click)="setQuickCash(amount)"
      >
        ${{amount}}
      </button>
    </div>
    
    <div class="cash-section">
      <div class="cash-row">
        <div class="cash-icon">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="2" y="6" width="20" height="12" rx="2" stroke="currentColor" stroke-width="2"/>
            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
            <path d="M18.5 9.5C18.5 8.67157 17.8284 8 17 8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M6.5 14.5C6.5 15.3284 7.17157 16 8 16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="cash-details">
          <div class="cash-label">Efectivo Recibido</div>
          <div class="cash-value">${{cashValue.toFixed(2)}}</div>
        </div>
      </div>
      
      <div class="cash-row change-row">
        <div class="cash-icon">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2 11L6.5 7M6.5 7L11 11M6.5 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 13L17.5 17M17.5 17L13 13M17.5 17V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="cash-details">
          <div class="cash-label">Cambio a Devolver</div>
          <div class="cash-value">${{change.toFixed(2)}}</div>
        </div>
      </div>
    </div>
    
    <div class="button-container">
      <button  class="button secondary-button" (click)="cancelPayment()">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 18L18 6M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Cancelar
      </button>
      <button 
        class="button " 
        [ngClass]="{'disabled': !isPaymentValid()}"
        [disabled]="!isPaymentValid()"
        (click)="confirmPayment()"
      >
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 13L9 17L19 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Confirmar Pago
      </button>
    </div>
  </div>
</div>
